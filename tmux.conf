# set prefix-key
# set-option -g prefix C-q
# unbind-key C-b
# bind-key C-q send-prefix


# window and pannel base
set -g base-index 1
setw -g pane-base-index 1
set -g display-panes-time 4000

# status line
set -g status on
set-option -g status-right '#{prefix_highlight} | %k:%M:%S %F %a'
set -g status-interval 1 # 状态栏刷新时间
set -g status-justify left # 状态栏列表左对齐
setw -g monitor-activity on # 非当前窗口有内容更新时在状态栏通知

# pannel selection
# bind -r k select-pane -U # 绑定k为↑
# bind -r j select-pane -D # 绑定j为↓
# bind -r h select-pane -L # 绑定h为←
# bind -r l select-pane -R # 绑定l为→

# term color
set -g default-terminal "xterm-256color"
set -ga terminal-overrides ",*256col*:RGB"

# window name by pannel
set-window-option -g automatic-rename
# alway reindex windows
set-option -g renumber-windows on

# escape time
set-option -sg escape-time 10
set-option -g focus-events on
#-------------------------------------------------------#
# Pane colours
#-------------------------------------------------------#
# set active-inactive window styles
# set -g window-style 'fg=colour247,bg=colour236'
# set -g window-active-style 'fg=default,bg=colour234'

# Pane border
# set -g pane-border-bg default
# set -g pane-border-fg colour238

# Active pane border
# set -g pane-active-border-bg default
# set -g pane-active-border-fg blue
#-------------------------------------------------------#
#
#-------------------------------------------------------#

# use new split key
unbind '"'
bind - splitw -v -c '#{pane_current_path}' # 垂直方向新增面板，默认进入当前目录
unbind %
bind | splitw -h -c '#{pane_current_path}' # 水平方向新增面板，默认进入当前目录
# panel resize setting
# no use in macos
unbind C-Up
unbind C-Down
unbind C-Left
unbind C-Right
unbind S-Up
unbind S-Down
unbind S-Left
unbind S-Right
# resize step
bind -r M-Up    resize-pane -U 10
bind -r M-Down  resize-pane -D 10
bind -r M-Left  resize-pane -L 10
bind -r M-Right resize-pane -R 10

# bind -r M-A    resize-pane -U 10
# bind -r M-B  resize-pane -D 10
# bind -r M-b  resize-pane -L 10
# bind -r M-f resize-pane -R 10

# bind -r C-Up    resize-pane -U 10
# bind -r C-Down  resize-pane -D 10
# bind -r C-Left  resize-pane -L 10
# bind -r C-Right resize-pane -R 10

# 绑定快捷键为r
bind r source-file ~/.tmux.conf \; display-message "Config reloaded."
bind c new-window -c "#{pane_current_path}"
# new window with name
bind-key C command-prompt -p "Name of new window:" "new-window -n '%%' -c '#{pane_current_path}'"
# setup vi-mode
set-window-option -g mode-keys vi
bind-key -T copy-mode-vi v send -X begin-selection
bind-key -T copy-mode-vi V send -X select-line
bind-key -T copy-mode-vi y send -X copy-pipe-and-cancel 'xclip -in -selection clipboard'

# auto restore on start
# set -g @continuum-restore 'on'
# plugins
run-shell ~/.tmux/tmux-prefix-highlight/prefix_highlight.tmux
run-shell ~/.tmux/tmux-resurrect/resurrect.tmux
run-shell ~/.tmux/tmux-continuum/continuum.tmux
